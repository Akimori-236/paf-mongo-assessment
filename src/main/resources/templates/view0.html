<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>View 0</title>
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
            integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
            crossorigin="anonymous"
        />
        <style>
            .error {
                color: red;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>Funds Transfer</h1>
            <form
                class="col-lg-6"
                method="POST"
                action="#"
                data-th-action="@{/transfer}"
                data-th-object="${transfer}"
            >
                <table class="table table-hover table-borderless">
                    <tr class="my-3">
                        <td class="form-label text-end">From account:</td>
                        <td>
                            <select
                                class="form-select"
                                name="fromAccount"
                                id="fromAccountID"
                            >
                                <option selected></option>
                                <option
                                    data-th-each="acc : ${accountList}"
                                    data-th-value="${acc.account_id}"
                                    data-th-text="${acc.name} + ' (' + ${acc.account_id} + ')'"
                                    data-th-selected="${acc.account_id == transfer.fromAccount}"
                                ></option>
                            </select>
                        </td>
                    </tr>
                    <tr class="my-3">
                        <td class="form-label text-end">To account:</td>
                        <td>
                            <select
                                class="form-select"
                                name="toAccount"
                                id="toAccountID"
                            >
                                <option selected></option>
                                <option
                                    data-th-each="acc : ${accountList}"
                                    data-th-value="${acc.account_id}"
                                    data-th-text="${acc.name} + ' (' + ${acc.account_id} + ')'"
                                    data-th-selected="${acc.account_id == transfer.toAccount}"
                                ></option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td class="form-label text-end">Amount:</td>
                        <td>
                            <input
                                data-th-field="${transfer.amount}"
                                class="form-control"
                                type="number"
                                name="amount"
                                id="amountID"
                                step="0.01"
                            />
                        </td>
                    </tr>
                    <tr>
                        <td class="form-label text-end">Comments:</td>
                        <td>
                            <textarea
                                data-th-field="${transfer.comments}"
                                class="form-control"
                                name="comments"
                                id="commentsID"
                                cols="20"
                                rows="5"
                            ></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td></td>
                        <td colspan="1">
                            <button
                                class="align-self-end btn btn-outline-danger"
                                type="submit"
                            >
                                Transfer
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <ul
                                class="error"
                                data-th-if="${#fields.hasAnyErrors()}"
                            >
                                <li
                                    data-th-each="err : ${#fields.allErrors()}"
                                    data-th-text="${err}"
                                ></li>
                            </ul>
                        </td>
                    </tr>
                </table>
            </form>
        </div>
    </body>
</html>
